
# Лабораторный отчёт – День 4


**ФИО:** Гул Керим Аллалович
 
**Дата выполнения:** 05.06.2025

**Преподаватель:** Виталий Новиков 


---

## 1. Тема и цель работы

**Тема:** IPv4 и Subnetting

**Цели работы:**

- Изучить теоретические основы разделения IP-сетей на подсети (субнеттинг) и понять принцип работы масок подсети переменной длины (VLSM).
- Получить практические навыки по расчету параметров подсетей (адрес сети, маска, диапазон адресов хостов, широковещательный адрес) для удовлетворения заданных требований по количеству хостов.
- Научиться использовать специализированные инструменты, такие как консольная утилита ipcalc и онлайн-калькуляторы, для выполнения и проверки расчетов по субнеттингу.
- Составить итоговую таблицу подсетей, наглядно демонстрирующую результаты разбиения исходной сети.

---

## 2. Теоретическая часть

Ключевые понятия, используемые в лабораторной работе:

- CIDR и маски
- VLSM (переменная длина маски)
- Private IP диапазоны (Class A, B, C)


---

## 3. Ход работы

Для разбиения сети `172.16.0.0/16` на подсети (1000, 500, 200, 100, 50 хостов) был применен метод VLSM. Расчеты производились последовательно, от самой большой подсети к меньшей, с помощью утилиты `ipcalc` в Kali Linux.

### 3.1. Используемые команды

**Использование утилиты `ipcalc`:**

```bash
ipcalc [АДРЕС_СЕТИ] -s [КОЛИЧЕСТВО_ХОСТОВ]

ipcalc 172.16.0.0 -s 1000

```

флаг `-s` рассчитывает минимально возможную подсеть, удовлетворяющую требованию, и показывает ее параметры, а также оставшуюся часть исходной сети.


### 3.2. Скриншоты

Первой была рассчитана подсеть для 1000 хостов командой `ipcalc 172.16.0.0 -s 1000`, в результате чего была выделена подсеть `172.16.0.0/22`.

![Расчет подсети на 1000 хостов с помощью ipcalc](https://raw.githubusercontent.com/Nelass1c/practica-konvey/main/day4/subnets/1000_hosts.jpg)

Аналогично, используя следующий свободный IP-адрес, были рассчитаны остальные подсети.
*Скриншоты всех расчетов находятся в папке: `[subnets](https://github.com/Nelass1c/practica-konvey/tree/main/day4/subnets)`*


По результатам расчетов была составлена итоговая таблица подсетей:

![Таблица подсетей](https://raw.githubusercontent.com/Nelass1c/practica-konvey/main/day4/table/table.jpg)

---

## 4. Результаты

*   IP-адрес шлюза по умолчанию (`192.168.1.1`) и используемый сетевой интерфейс (`eth0`) были успешно определены.
*   С помощью команды `ping -c 4 192.168.1.1` было отправлено 4 ICMP Echo Request пакета на шлюз, и получено 4 ответных ICMP Echo Reply.
*   Перед отправкой первого ICMP-пакета, после очистки ARP-кэша, был зафиксирован обмен ARP-сообщениями: ARP-запрос от хоста `192.168.1.49` для определения MAC-адреса шлюза `192.168.1.1` и ARP-ответ от шлюза.
*   Сетевой трафик, включающий ARP и ICMP пакеты, был захвачен с использованием Wireshark на интерфейсе `eth0`.
*   Содержимое ARP-кэша было выведено и сохранено в текстовый файл.
*   Захваченный сетевой трафик сохранен в файл: [`day3_ping.pcap`](https://raw.githubusercontent.com/Nelass1c/practica-konvey/main/day3/wireshark/day3_ping.pcap).
*   Содержимое ARP-кэша сохранено в файл: [`arp_cache.txt`](https://raw.githubusercontent.com/Nelass1c/practica-konvey/main/day3/arp_cache.txt).

---

## 5. Выводы

*   **Закреплены навыки:** Понимание механизма разрешения MAC-адресов с помощью ARP перед IP-коммуникацией в локальной сети. Освоен анализ ICMP-трафика, генерируемого утилитой `ping`. Улучшены навыки работы с Wireshark для захвата и фильтрации трафика, а также использования команды `ip neigh` для работы с ARP-кэшем.

*   **Что показалось сложным:** Обеспечение гарантированного захвата ARP-обмена потребовало точной последовательности действий, включая предварительную очистку ARP-кэша, так как система кэширует MAC-адреса для оптимизации.

*   **Какой инструмент был наиболее полезен:** Wireshark оказался ключевым инструментом для наглядной демонстрации ARP-запросов/ответов и последующего ICMP-обмена. Команды `ping` и `ip neigh` эффективно дополнили анализ, позволив генерировать трафик и проверять состояние ARP-таблицы.

---
