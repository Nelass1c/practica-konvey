
# Лабораторный отчёт – День 5


**ФИО:** Гул Керим Аллалович
 
**Дата выполнения:** 06.06.2025

**Преподаватель:** Виталий Новиков 


---

## 1. Тема и цель работы

**Тема:** DHCP и NAT

**Цели работы:**

- Изучить работу протокола DHCP (Dynamic Host Configuration Protocol) путем принудительного обновления IP-адреса на сетевом интерфейсе.
- Получить практические навыки по захвату и анализу DHCP-трафика с использованием сетевого анализатора Wireshark.
- Освоить использование фильтров Wireshark по номерам портов (port 67 or 68) для изоляции DHCP-сообщений.
- Понять концепцию NAT (Network Address Translation) путем сравнения внутреннего (локального) IP-адреса, полученного по DHCP, и внешнего (публичного) IP-адреса, видимого в интернете.

---

## 2. Теоретическая часть

Ключевые понятия, используемые в лабораторной работе:

- DHCP 
- Процесс DORA: Четырехэтапный процесс получения IP-адреса по DHCP: Discover, Offer, Request, Ack.
- Private IP диапазоны (Class A, B, C)
- NAT 
- PAT (Port Address Translation): Расширение NAT (часто называется "маскарадинг"), которое подменяет не только IP-адрес, но и порт источника

---

## 3. Ход работы

Основной задачей было изучение процесса получения IP-адреса по протоколу DHCP и демонстрация работы механизма NAT. Для этого была выполнена процедура принудительного переподключения сетевого интерфейса, что инициировало обмен DHCP-сообщениями. Весь процесс был зафиксирован с помощью сетевого анализатора Wireshark, после чего была проведена проверка внешнего IP-адреса для сравнения с локальным.

### 3.1. Используемые команды

**Управление сетевым интерфейсом и DHCP-клиентом:**

```bash
sudo nmcli device disconnect eth0

sudo nmcli device connect eth0
```

**Фильтрация трафика в Wireshark:**

```bash
dhcpv6 || dhcp
```

**Проверка внешнего IP-адреса с помощью:**

```bash
curl ifconfig.me
```

### 3.2. Скриншоты

Отключение и последующее подключение интерфейса принудительно запускает процесс получения нового IP-адреса от DHCP-сервера.

![получения нового IP-адреса от DHCP-сервера](https://raw.githubusercontent.com/Nelass1c/practica-konvey/main/day5/screenshots/s1.jpg)




По результатам расчетов была составлена итоговая таблица подсетей:

![Таблица подсетей](https://raw.githubusercontent.com/Nelass1c/practica-konvey/main/day4/table/table.jpg)

---

### 4. Результаты

*   Исходная сеть `172.16.0.0/16` была успешно разделена на пять подсетей разного размера (для 1000, 500, 200, 100 и 50 хостов) с использованием метода масок подсети переменной длины (VLSM).
*   Для каждой из требуемых подсетей были корректно определены все ключевые параметры: адрес сети, маска подсети, диапазон IP-адресов для хостов и широковещательный адрес.
*   Расчеты для каждой подсети были выполнены и проверены с помощью консольной утилиты `ipcalc`, что подтвердило их корректность.
*   Итоговые данные по всем рассчитанным подсетям были сведены в сводную таблицу для наглядного представления результатов.

---

### 5. Выводы

*   **Закреплены навыки:** Освоены теоретические основы и получены практические навыки по субнеттингу IP-сетей с использованием метода VLSM. Закреплено умение рассчитывать маски подсети, диапазоны адресов хостов и широковещательные адреса. Получен опыт работы с консольной утилитой `ipcalc` для выполнения и проверки сетевых расчетов.

*   **Что показалось сложным:** Наибольшую концентрацию потребовало безошибочное определение начального адреса для каждой следующей подсети, чтобы избежать их пересечения. Ручной расчет масок и широковещательных адресов для неклассовых сетей (например, /22, /23) без калькулятора может быть трудоемким.

*   **Какой инструмент был наиболее полезен:** Ключевым инструментом для выполнения данной работы стала утилита `ipcalc`. Она позволила не только быстро и точно рассчитать параметры для каждой подсети, но и эффективно проверить правильность ручных вычислений, что значительно сократило время и повысило уверенность в результате.

---
