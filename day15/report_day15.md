
# Лабораторный отчёт – День 15


**ФИО:** Гул Керим Аллалович
 
**Дата выполнения:** 18.06.2025

**Преподаватель:** Виталий Новиков 


---

## 1. Тема и цель работы

**Тема:** Комплексный анализ безопасности уязвимой системы

**Цели работы:**

- Провести комплексный анализ безопасности предумышленно уязвимой виртуальной машины Metasploitable 2.
- Применить на практике инструменты сетевого сканирования (Nmap), перехвата трафика (Wireshark/tcpdump) и проведения атак "человек-посередине" (bettercap).
- Продемонстрировать реальные риски использования устаревшего ПО и незашифрованных протоколов передачи данных.

---

## 2. Теоретическая часть

*   **Metasploitable 2:** Специально созданный дистрибутив Linux, содержащий множество известных уязвимостей, предназначенный для обучения и тестирования инструментов безопасности.
*   **Nmap:** Инструмент для сканирования сетей, обнаружения хостов и определения открытых портов, служб и их версий.
*   **Bettercap:** Мощный фреймворк для проведения атак "человек-посередине" (MITM), способный выполнять ARP-спуфинг, DNS-спуфинг, перехват трафика и многое другое.
*   **ARP-спуфинг (ARP Poisoning):** Атака на канальном уровне, при которой атакующий отправляет поддельные ARP-сообщения в локальную сеть, чтобы связать свой MAC-адрес с IP-адресом другого узла (например, шлюза), заставляя трафик идти через себя.
*   **MITM (Man-in-the-Middle):** Тип атаки, при которой злоумышленник тайно ретранслирует и, возможно, изменяет коммуникацию между двумя сторонами, которые считают, что они общаются друг с другом напрямую.
*   **Wireshark / tcpdump:** Сетевые анализаторы ("снифферы"), позволяющие захватывать и детально просматривать сетевой трафик, проходящий через сетевой интерфейс.
*   **Незашифрованные протоколы (Telnet, FTP, HTTP):** Протоколы, передающие данные, включая учетные записи, в открытом текстовом виде, что делает их крайне уязвимыми для перехвата.

---

### 3. Ход работы

Для комплексного анализа безопасности была выбрана предумышленно уязвимая виртуальная машина **Metasploitable 2**. Атакующая машина **Kali Linux** и цель были размещены в одной локальной сети в режиме "Сетевого моста" для обеспечения взаимодействия. Анализ проводился в три этапа: подготовка среды, разведка сети, атака "человек-посередине" и перехват трафика.

#### 3.1. Подготовка лабораторной среды

Первым шагом было получение IP-адреса целевой машины Metasploitable 2 с помощью команды `ifconfig`. Был получен адрес `192.168.1.43`.

![IP-адрес Metasploitable 2](https://raw.githubusercontent.com/Nelass1c/practica-konvey/main/day15/screenshots/metasploitable_ip.jpg)

#### 3.2. Разведка и атака "Человек-посередине" (MITM)

Для обнаружения хостов в сети и их дальнейшего анализа использовался фреймворк Bettercap. Были определены все активные устройства в локальной сети, включая машину Kali (`192.168.1.49`) и цель Metasploitable (`192.168.1.43`).

![Обнаружение хостов в сети с помощью bettercap](https://raw.githubusercontent.com/Nelass1c/practica-konvey/main/day15/screenshots/network.jpg)

Затем был запущен модуль ARP-спуфинга (`arp.spoof on`) и сниффер (`net.sniff on`). Для генерации трафика на целевой машине была выполнена команда `curl google.com`. Bettercap успешно перехватил и отобразил DNS-трафик от цели, что подтвердило успешность проведения атаки "человек-посередине" и перенаправления трафика.

![Bettercap](https://raw.githubusercontent.com/Nelass1c/practica-konvey/main/day15/screenshots/bettercap.png)

#### 3.3. Перехват учетных данных

Для демонстрации уязвимости незашифрованных протоколов, параллельно с атакой Bettercap, был запущен `tcpdump` для захвата трафика. Во время FTP-аутентификации на Metasploitable `tcpdump` успешно перехватил и отобразил в открытом виде логин (`USER msfadmin`) и пароль (`PASS msfadmin`).

![Перехват FTP-аутентификации, часть 1](https://raw.githubusercontent.com/Nelass1c/practica-konvey/main/day15/screenshots/tcpdump1.jpg)
![Перехват FTP-аутентификации, часть 2](https://raw.githubusercontent.com/Nelass1c/practica-konvey/main/day15/screenshots/tcpdump2.jpg)

Этот шаг наглядно продемонстрировал возможность получения несанкционированного доступа к учетным данным при использовании небезопасных протоколов в условиях атаки "человек-посередине".

---

### 4. Результаты

*   Проведена успешная атака "человек-посередине" (MITM) на уязвимую машину Metasploitable 2 (`192.168.1.43`) с использованием ARP-спуфинга.
*   С помощью `tcpdump` был перехвачен сетевой трафик, в котором были обнаружены учетные данные от протокола FTP.
*   В захваченном трафике в открытом виде идентифицированы логин (`USER msfadmin`) и пароль (`PASS msfadmin`), что доказывает возможность компрометации учетных записей при использовании незашифрованных протоколов.
*   Результаты анализа сохранены в виде скриншотов и pcap-файла.

---

### 5. Выводы

*   **Закреплены навыки:** Освоены практические навыки проведения MITM-атаки с помощью `bettercap` и анализа перехваченного трафика с помощью `tcpdump`. Наглядно продемонстрированы риски использования небезопасных протоколов, таких как FTP.
*   **Наиболее полезен был:** Инструмент `tcpdump`, который позволил предоставить неопровержимое доказательство перехвата учетных данных в незашифрованном виде.
---
